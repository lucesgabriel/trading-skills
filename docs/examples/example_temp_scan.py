#!/usr/bin/env python3
"""
EJEMPLO: Este es cómo se vería temp_scan.py en una ejecución real.
Claude Code crearía este archivo automáticamente usando Write tool.

Después de ejecutarlo, se eliminaría con: del temp_scan.py
"""
import sys
from pathlib import Path
sys.path.insert(0, str(Path(__file__).parent / '.claude' / 'skills' / 'pattern-scanner' / 'scripts'))
from run_scan import run_pattern_scan

# MCP data embedded directly (no JSON file needed)
mcp_data = {
    "price": {
        "bid": 1.16381,
        "ask": 1.16381,
        "last": 0.0,
        "volume": 0,
        "time": "2025-10-29T21:30:00Z"
    },
    "candles_m15": """time,open,high,low,close,tick_volume,spread,real_volume
99,2025-10-29 21:30:00+00:00,1.16392,1.16426,1.16375,1.1638,606,0,0
98,2025-10-29 21:15:00+00:00,1.16354,1.16441,1.1635,1.16392,2977,0,0
97,2025-10-29 21:00:00+00:00,1.16468,1.16511,1.16343,1.16354,4726,0,0
96,2025-10-29 20:45:00+00:00,1.16475,1.16506,1.1646,1.16465,1645,0,0
95,2025-10-29 20:30:00+00:00,1.16504,1.16504,1.16456,1.16475,1649,0,0
94,2025-10-29 20:15:00+00:00,1.16575,1.16591,1.16498,1.16505,1813,0,0
93,2025-10-29 20:00:00+00:00,1.16573,1.1659,1.1656,1.16575,1259,0,0
92,2025-10-29 19:45:00+00:00,1.16599,1.166,1.16553,1.16573,1987,0,0
91,2025-10-29 19:30:00+00:00,1.16622,1.16624,1.1659,1.16597,1577,0,0
90,2025-10-29 19:15:00+00:00,1.1662,1.16636,1.16596,1.16622,1860,0,0
... (90 more rows) ...""",

    "candles_h1": """time,open,high,low,close,tick_volume,spread,real_volume
99,2025-10-29 21:00:00+00:00,1.16468,1.16511,1.16343,1.16378,8316,0,0
98,2025-10-29 20:00:00+00:00,1.16573,1.16591,1.16456,1.16465,6366,0,0
97,2025-10-29 19:00:00+00:00,1.16637,1.16659,1.16553,1.16573,8104,0,0
96,2025-10-29 18:00:00+00:00,1.16504,1.16646,1.1645,1.16636,9666,0,0
95,2025-10-29 17:00:00+00:00,1.16368,1.16514,1.16316,1.16504,9040,0,0
94,2025-10-29 16:00:00+00:00,1.16342,1.16458,1.16336,1.16368,11026,0,0
93,2025-10-29 15:00:00+00:00,1.1639599999999999,1.1645,1.16276,1.16341,9666,0,0
92,2025-10-29 14:00:00+00:00,1.16472,1.16486,1.1633,1.16397,6899,0,0
91,2025-10-29 13:00:00+00:00,1.16412,1.16488,1.1637,1.16472,6318,0,0
90,2025-10-29 12:00:00+00:00,1.16231,1.1647,1.16187,1.16411,8310,0,0
... (90 more rows) ...""",

    "candles_h4": """time,open,high,low,close,tick_volume,spread,real_volume
99,2025-10-29 20:00:00+00:00,1.16573,1.16591,1.16343,1.16377,14684,0,0
98,2025-10-29 16:00:00+00:00,1.16342,1.16659,1.16316,1.16573,37836,0,0
97,2025-10-29 12:00:00+00:00,1.16231,1.16488,1.16187,1.16341,31193,0,0
96,2025-10-29 08:00:00+00:00,1.16343,1.1638,1.16228,1.16231,26881,0,0
95,2025-10-29 04:00:00+00:00,1.16545,1.16561,1.16315,1.16341,15494,0,0
94,2025-10-29 00:00:00+00:00,1.16501,1.16609,1.16486,1.16545,13035,0,0
93,2025-10-28 20:00:00+00:00,1.16681,1.16689,1.1651,1.16523,18671,0,0
92,2025-10-28 16:00:00+00:00,1.16402,1.1668,1.16253,1.1668,39645,0,0
91,2025-10-28 12:00:00+00:00,1.16522,1.16651,1.16351,1.16402,30769,0,0
90,2025-10-28 08:00:00+00:00,1.16659,1.1668,1.1648399999999999,1.16525,26643,0,0
... (90 more rows) ...""",

    "candles_d1": """time,open,high,low,close,tick_volume,spread,real_volume
99,2025-10-29 00:00:00+00:00,1.16501,1.16659,1.16187,1.16378,139126,0,0
98,2025-10-28 00:00:00+00:00,1.16443,1.16689,1.16253,1.16523,141577,0,0
97,2025-10-27 00:00:00+00:00,1.1632,1.16521,1.16174,1.16441,132046,0,0
96,2025-10-24 00:00:00+00:00,1.16163,1.16485,1.1601,1.16272,140089,0,0
95,2025-10-23 00:00:00+00:00,1.16058,1.1620300000000001,1.15852,1.1617899999999999,123169,0,0
94,2025-10-22 00:00:00+00:00,1.15977,1.16224,1.1577,1.16094,145951,0,0
93,2025-10-21 00:00:00+00:00,1.16404,1.16553,1.15978,1.15995,173311,0,0
92,2025-10-20 00:00:00+00:00,1.1661299999999999,1.16757,1.16383,1.16412,146656,0,0
91,2025-10-17 00:00:00+00:00,1.16826,1.17283,1.16504,1.16531,190600,0,0
90,2025-10-16 00:00:00+00:00,1.16433,1.16943,1.1641,1.16873,185963,0,0
... (90 more rows) ..."""
}

# Run the scanner
print("\n" + "="*60)
print("EJEMPLO: Ejecutando pattern scanner con datos embebidos")
print("="*60)

report_path = run_pattern_scan("EURUSD", mcp_data)

print(f"\n✅ Scan complete! Report: {report_path}")
print("\n" + "="*60)
print("En producción, este archivo (temp_scan.py) se eliminaría automáticamente")
print("Comando: del .claude\\skills\\pattern-scanner\\scripts\\temp_scan.py")
print("="*60)
